<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Fix Meeting Issues - Auto Copy & Open</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:system-ui,sans-serif;background:linear-gradient(135deg,#0f172a 0%,#1e293b 100%);color:#fff;padding:20px;display:flex;align-items:center;justify-content:center;min-height:100vh}
.container{background:#1e293b;border:4px solid#10b981;border-radius:24px;padding:60px;max-width:800px;box-shadow:0 25px 50px -12px rgba(0,0,0,0.9)}
h1{color:#10b981;font-size:48px;margin-bottom:20px;text-align:center;text-shadow:0 0 20px rgba(16,185,129,0.5)}
.step{background:#334155;padding:30px;border-radius:16px;margin:20px 0;border-left:6px solid#10b981;font-size:24px;font-weight:700;box-shadow:0 10px 15px -3px rgba(0,0,0,0.3)}
.step-num{display:inline-block;background:#10b981;color:#000;width:50px;height:50px;border-radius:50%;text-align:center;line-height:50px;margin-right:15px;font-size:28px;font-weight:900}
.btn{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;padding:25px 50px;border-radius:16px;font-size:28px;font-weight:900;cursor:pointer;width:100%;margin:15px 0;transition:all .3s;box-shadow:0 10px 25px rgba(16,185,129,0.4);text-decoration:none;display:block;text-align:center}
.btn:hover{transform:translateY(-3px);box-shadow:0 15px 35px rgba(16,185,129,0.6)}
.btn:active{transform:translateY(0)}
.status{text-align:center;font-size:36px;margin:30px 0;padding:25px;background:#0f172a;border-radius:16px;font-weight:700}
.copied{animation:flash .5s ease-in-out}
@keyframes flash{0%,100%{background:#334155}50%{background:#10b981}}
.emoji{font-size:64px;display:block;margin:20px 0}
</style>
</head>
<body>
<div class="container">
<h1>Fix Meeting Issues</h1>
<div class="status" id="status">
<span class="emoji">ðŸ“‹</span>
SQL Copied to Clipboard!
</div>
<div class="step">
<span class="step-num">1</span>
SQL already copied!
</div>
<div class="step">
<span class="step-num">2</span>
Click button below
</div>
<div class="step">
<span class="step-num">3</span>
Paste & RUN in dashboard
</div>
<a href="https://supabase.com/dashboard/project/fkypxitgnfqbfplxokve/sql" target="_blank" class="btn" onclick="openDashboard()">
OPEN SUPABASE SQL EDITOR
</a>
<div style="text-align:center;margin-top:40px;font-size:18px;color:#94a3b8;line-height:1.8">
<strong style="color:#fbbf24">After opening:</strong><br>
Press Ctrl+V (or Cmd+V on Mac) to paste<br>
Click the green RUN button<br>
Done! Refresh your app
</div>
</div>
<textarea id="sql" style="position:absolute;left:-9999px">-- Fix Meeting Status Constraint
-- This fixes the issue where meetings couldn't be inserted

-- Drop the old constraint
ALTER TABLE meetings DROP CONSTRAINT IF EXISTS meetings_status_check;

-- Add a new constraint that allows NULL and all valid statuses
ALTER TABLE meetings ADD CONSTRAINT meetings_status_check
  CHECK (status IS NULL OR status IN ('scheduled', 'active', 'completed', 'cancelled', 'attended', 'missed'));</textarea>
<script>
window.onload=function(){
const t=document.getElementById('sql');
t.select();
document.execCommand('copy');
document.getElementById('status').classList.add('copied');
setTimeout(()=>document.getElementById('status').classList.remove('copied'),500)
};
function openDashboard(){
document.getElementById('status').innerHTML='<span class="emoji">âœ…</span>Dashboard Opened!<br><span style="font-size:20px;color:#94a3b8">Paste SQL and click RUN</span>';
}
</script>
</body>
</html>
